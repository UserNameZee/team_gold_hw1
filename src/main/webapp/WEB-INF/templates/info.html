<!DOCTYPE html>
< xmlns:th="http://www.thymeleaf.org">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" th:href="@{css/style.css}">
<script src="webjars/jquery/3.3.1/jquery.min.js"></script>
<script>
  $(document).ready(function () {
    console.log($("userName").load("/loadUserInfo"));
    $(".userName").load("/loadUserInfo"); // 加载用户信息
  });

  $(document).ready(function (){
    $("#newGame").click(function(){
      window.location.href= "game.html";
    })
  });
</script>
<head>
  <meta charset="UTF-8">
  <title class= "userName">username</title>
</head>
<div class="sidenav">
  <tr>
    <td>
      <p style="font-size: xx-large; text-align: center;" class = "userName">User Name</p>
    </td>
  </tr>
  <tr></tr>
  <tr>
    <td>
      <button class = btn2 type = "button" id = "newGame" style="text-align: center"> New Game </button>
    </td>
  </tr>
  <tr>
    <td>
      <button class = btn2 type = "button" id = "Continue" disabled style="text-align: center"> Continue </button>
    </td>
  </tr>
</div>

<body class="background">
<div class = "content">
  <h1 class="info-title"> Game History</h1>
  <div class = "scrollbar table-wrapper-scroll-y">
  <table id="js/info.js" class="table  table-striped table-bordered table-sm" cellspacing="0" width="100%">
    <thead>
    <tr>
      <th class="th-sm">Time</th>
      <th class="th-sm">Game Result</th>
      <th class="th-sm">Chess Remain</th>
      <th class="th-sm">Replay</th>
    </tr>
    </thead>
    <tbody class="info-center hsTable">
    </tbody>
  </table>
  </div>
  <div class="info-right">
    <button class="btn1 prev">prev</button>
    <button class="btn1 next">next</button>
  </div>
</div>
</body>
<script>
  var allgame_arr;
  $.get("/rest/get_games", function(data){
    console.log(data[0].result);
    $(document).ready(function(){
      for (let i = 0; i< data.length; i++){
        tr = $("<tr/>");
        tr.append("<td>" + data[i].time + "</td>>");
        tr.append("<td>" + data[i].result + "</td>>");
        tr.append("<td>" + "1-n" + "</td>>");
        tr.append("<td>" + Date.now() + "</td>>");
        $(".hsTable").append(tr);
      }
    });
  });


</script>>
</html>